(this["webpackJsonpcard-maker"]=this["webpackJsonpcard-maker"]||[]).push([[0],[,,,,,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(9),i=n.n(o),l=(n(14),n(3)),s=n(4),u=n(2),f=(n(15),n(16),n(8),n(1));!function(e){e[e.Select=0]="Select",e[e.Text=1]="Text",e[e.Shape=2]="Shape"}(r||(r={}));var d,h=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],i=c?"pressed":"",l=e.isSelected?"tool-active":"";return Object(f.jsxs)("button",{onMouseDown:function(){return o(!0)},onMouseLeave:function(){return o(!1)},onMouseUp:function(){return o(!1)},onClick:e.onClick,className:"toolbar-item ".concat(i," ").concat(l),children:[e.icon,r[e.toolType]]})},b=(n(18),function(e){var t=e.isVisible?"gizmo":"",n=e.isVisible&&e.isResizable?"gizmo-handle":"",r="scale(".concat(e.contentScale.scaleX,",").concat(e.contentScale.scaleY,")");return Object(f.jsxs)("div",{className:"gizmo-container",style:{width:"100%",height:"100%"},children:[Object(f.jsx)("div",{className:"main-content",style:{width:"100%",height:"100%",transform:r},children:e.children}),Object(f.jsxs)("div",{className:t,style:{width:"100%",height:"100%"},children:[Object(f.jsx)("div",{className:n}),Object(f.jsx)("div",{className:n}),Object(f.jsx)("div",{className:n}),Object(f.jsx)("div",{className:n,onMouseDown:e.onHandleDown})]})]})});!function(e){e[e.None=0]="None",e[e.Resize=1]="Resize",e[e.Drag=2]="Drag"}(d||(d={}));var v,p,m=c.a.forwardRef((function(e,t){var n,r,c,o,i,l,s,h,v,p=Object(a.useState)(d.None),m=Object(u.a)(p,2),j=m[0],g=m[1];function O(t,n,r){var a;if(!n.isDefaultPrevented()&&(e.isDraggable||t!==d.Drag)&&(e.isResizable||t!==d.Resize)){var c,o,i=n.currentTarget;if(t===d.Resize)i=null===(c=n.currentTarget.parentElement)||void 0===c||null===(o=c.parentElement)||void 0===o?void 0:o.parentElement;g(t);var l={rect:{left:i.offsetLeft,top:i.offsetTop,width:i.offsetWidth,height:i.offsetHeight},scaleParams:r};null===(a=e.setHasStartedTransform)||void 0===a||a.call(e,n.clientX,n.clientY,l),n.preventDefault()}}var w=null===(n=e.transformData)||void 0===n?void 0:n.preTransform;e.transformData&&(w=function(e,t,n){var r=t.preTransform.rect,a=e===d.Resize,c=(d.Drag,t.mouseX-t.startMouseX),o=t.mouseY-t.startMouseY,i=r.left+c+r.width,l=r.top+o+r.height,s=r.width+c<0,u=r.height+o<0;return a||n?{rect:{left:s?i:r.left,top:u?l:r.top,width:Math.abs(r.width+c),height:Math.abs(r.height+o)},scaleParams:{scaleX:s?-1:1,scaleY:u?-1:1}}:{rect:{left:r.left+c,top:r.top+o,width:r.width,height:r.height},scaleParams:t.preTransform.scaleParams}}(j,e.transformData,e.alwaysResize));var y=null!==(r=null===(c=w)||void 0===c?void 0:c.rect.left)&&void 0!==r?r:0,x=null!==(o=null===(i=w)||void 0===i?void 0:i.rect.top)&&void 0!==o?o:0,k=null!==(l=null===(s=w)||void 0===s?void 0:s.scaleParams)&&void 0!==l?l:{scaleX:1,scaleY:1},E=e.isDraggable?"grab":void 0;return Object(f.jsx)("div",{ref:t,className:"transformable",style:{position:"absolute",left:y,top:x,width:null===(h=w)||void 0===h?void 0:h.rect.width,height:null===(v=w)||void 0===v?void 0:v.rect.height,zIndex:e.zIndex,cursor:E},onMouseDown:function(e){return O(d.Drag,e,k)},onMouseUp:function(t){return function(t,n){var r;(e.isDraggable||e.isResizable)&&(null===(r=e.setHasEndedTransform)||void 0===r||r.call(e,n))}(0,w)},onClick:function(t){return function(t){var n;t.isDefaultPrevented()||(null===(n=e.onClick)||void 0===n||n.call(e,t),t.preventDefault())}(t)},children:Object(f.jsx)(b,{onHandleDown:function(e){return O(d.Resize,e,k)},isVisible:e.isGizmoVisible,isResizable:e.isResizable,contentScale:k,children:e.children})})}));!function(e){e[e.Text=0]="Text",e[e.Shape=1]="Shape",e[e.Image=2]="Image"}(v||(v={})),function(e){e.Undo="UNDO",e.Redo="REDO",e.Set="SET",e.Reset="RESET"}(p||(p={}));var j={past:[],present:null,future:[]},g=function(e,t){var n=e.past,r=e.present,a=e.future;switch(t.type){case p.Undo:if(0===n.length)return e;var c=n[n.length-1];return{past:n.slice(0,n.length-1),present:c,future:[r].concat(Object(s.a)(a))};case p.Redo:if(0===a.length)return e;var o=a[0],i=a.slice(1);return{past:[].concat(Object(s.a)(n),[r]),present:o,future:i};case p.Set:var l=t.newPresent;return l===r?e:{past:[].concat(Object(s.a)(n),[r]),present:l,future:[]};case p.Reset:return{past:[],present:t.newPresent,future:[]}}},O=function(e){var t=Object(a.useReducer)(g,Object(l.a)(Object(l.a)({},j),{},{present:e})),n=Object(u.a)(t,2),r=n[0],c=n[1],o=0!==r.past.length,i=0!==r.future.length,s=Object(a.useCallback)((function(){o&&c({type:p.Undo})}),[o]),f=Object(a.useCallback)((function(){i&&c({type:p.Redo})}),[i]);return[r,{set:Object(a.useCallback)((function(e){return c({type:p.Set,newPresent:e})}),[]),reset:Object(a.useCallback)((function(e){return c({type:p.Reset,newPresent:e})}),[]),undo:s,redo:f,canUndo:o,canRedo:i}]};function w(e){switch(e){case r.Select:return"crosshair";case r.Text:return"text";case r.Shape:return"copy";default:return"default"}}var y,x=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),d=Object(u.a)(i,2),h=d[0],b=d[1],p=Object(a.useState)(!1),j=Object(u.a)(p,2),g=j[0],y=j[1],x=Object(a.useState)([]),k=Object(u.a)(x,2),E=k[0],R=k[1],S=Object(a.useState)(),C=Object(u.a)(S,2),T=C[0],M=C[1],D=Object(a.useRef)([]),P=Object(a.useState)(-1),Y=Object(u.a)(P,2),X=Y[0],I=Y[1],z=e.tool,N=O({}),L=Object(u.a)(N,2),H=L[0],B=L[1],U=B.set,W=(B.reset,B.undo),F=B.redo,V=B.canUndo,K=B.canRedo;function G(){var t,n,r=null===(t=e.canvasRef.current)||void 0===t||null===(n=t.getContext("2d"))||void 0===n?void 0:n.getImageData(0,0,e.width,e.height);U({imageData:r})}function A(e,t){R(E.map((function(n,r){return r===e?t:n})))}function J(t){if(!t.isDefaultPrevented()&&!g&&z===r.Text){var n=e.canvasRef.current.getBoundingClientRect(),a={rect:{left:t.clientX-n.x,top:t.clientY-n.y,width:200,height:50},scaleParams:{scaleX:1,scaleY:1}};R([].concat(Object(s.a)(E),[{mouseX:t.clientX,mouseY:t.clientY,startMouseX:t.clientX,startMouseY:t.clientY,canvasX:n.x,canvasY:n.y,preTransform:a,transform:a}])),e.onAddText()}}function Z(){if(-1!==X)switch(e.drawables[X].type){case v.Image:!function(){var t,n,r,a,c,o,i=e.canvasRef.current.getContext("2d"),l=D.current[X],s=null!==(t=null===(n=E[X])||void 0===n||null===(r=n.transform)||void 0===r?void 0:r.scaleParams)&&void 0!==t?t:{scaleX:1,scaleY:1},u=null!==(a=null===(c=E[X])||void 0===c||null===(o=c.transform)||void 0===o?void 0:o.rect)&&void 0!==a?a:{left:0,top:0,width:l.offsetWidth,height:l.offsetHeight};i.save(),i.scale(s.scaleX,s.scaleY),i.drawImage(l,s.scaleX*u.left,s.scaleY*u.top,s.scaleX*u.width,s.scaleY*u.height),i.restore()}();break;case v.Text:!function(){var t,n,r,a=e.canvasRef.current.getContext("2d"),c=null===(t=E[X])||void 0===t?void 0:t.transform.rect,o=null===(n=E[X])||void 0===n?void 0:n.transform.scaleParams,i=o.scaleX<0?-c.width:0,l=D.current[X];a.font="22px sans-serif",a.save(),a.scale(o.scaleX,o.scaleY),a.fillText(null!==(r=l.value)&&void 0!==r?r:"",o.scaleX*c.left+i,o.scaleY*(c.top+c.height/2)),a.restore()}()}}function q(){var t;t=X,R(E.filter((function(e,n){return t!==n}))),e.onRemoveDrawable(X)}function Q(t){if(e.canvasRef.current)switch(t.code){case"Delete":!function(){var t=e.canvasRef.current.getContext("2d");if(T&&c){var n=T.mouseX-T.startMouseX,r=T.mouseY-T.startMouseY;null===t||void 0===t||t.clearRect(T.preTransform.rect.left,T.preTransform.rect.top,n,r)}}(),G();break;case"Enter":Z(),q(),G();break;case"KeyZ":t.ctrlKey&&V&&W();break;case"KeyY":t.ctrlKey&&K&&F()}}function $(t,n){switch(n.type){case v.Image:return Object(f.jsx)("img",{crossOrigin:"anonymous",ref:function(e){return D.current[t]=e},src:n.data,style:{display:"block",width:"100%",height:"100%"},alt:""});case v.Text:return Object(f.jsx)("input",{ref:function(e){return D.current[t]=e},type:"text",placeholder:"Enter Text",onChange:function(n){return function(t,n){e.onChangeText(t,n.currentTarget.value)}(t,n)},value:n.data,className:"transformable-text",autoFocus:!0});default:return Object(f.jsx)(f.Fragment,{})}}return Object(a.useEffect)((function(){R((function(t){return e.drawables.map((function(e,n){var r;return null!==(r=t[n])&&void 0!==r?r:null}))})),I(e.drawables.length-1)}),[e.drawables]),Object(a.useEffect)((function(){return document.addEventListener("keydown",Q),function(){document.removeEventListener("keydown",Q)}})),Object(a.useEffect)((function(){var t,n=H.present.imageData,r=null===(t=e.canvasRef.current)||void 0===t?void 0:t.getContext("2d");n?(r.clearRect(0,0,e.width,e.height),r.putImageData(n,0,0)):r.clearRect(0,0,e.width,e.height)}),[H,e.canvasRef,e.width,e.height]),Object(f.jsxs)("div",{className:"canvas",onMouseDown:function(t){return function(t){b(!0),o(!0);var n=e.canvasRef.current.getBoundingClientRect(),r={rect:{left:t.clientX-n.x,top:t.clientY-n.y,width:0,height:0},scaleParams:{scaleX:1,scaleY:1}};M({mouseX:t.clientX,mouseY:t.clientY,startMouseX:t.clientX,startMouseY:t.clientY,canvasX:n.x,canvasY:n.y,preTransform:r,transform:r})}(t)},onMouseMove:function(t){return function(t){if(t.preventDefault(),g&&-1!==X){var n=e.canvasRef.current.getBoundingClientRect();A(X,Object(l.a)(Object(l.a)({},E[X]),{},{mouseX:t.clientX,mouseY:t.clientY,canvasX:n.x,canvasY:n.y}))}else if(h&&T){var r=e.canvasRef.current.getBoundingClientRect();M(Object(l.a)(Object(l.a)({},T),{},{mouseX:t.clientX,mouseY:t.clientY,canvasX:r.x,canvasY:r.y}))}}(t)},onMouseUp:function(){y(!1),b(!1)},onClick:function(e){return J(e)},style:{position:"relative",width:e.width,height:e.height,cursor:w(e.tool)},children:[Object(f.jsx)("canvas",{id:"native-canvas",ref:e.canvasRef,width:e.width,height:e.height}),e.drawables.map((function(t,n){var a;return Object(f.jsx)(m,{isDraggable:z===r.Select,isGizmoVisible:!0,isResizable:z===r.Select&&n===X,canvasWidth:e.width,canvasHeight:e.height,transformData:null!==(a=E[n])&&void 0!==a?a:void 0,alwaysResize:!1,setHasStartedTransform:function(t,r,a){return function(t,n,r,a){var c=e.canvasRef.current.getBoundingClientRect();b(!1),o(!1),y(!0),I(t),A(t,{mouseX:n,mouseY:r,startMouseX:n,startMouseY:r,preTransform:a,transform:a,canvasX:c.x,canvasY:c.y})}(n,t,r,a)},setHasEndedTransform:function(e){return function(e,t){y(!1),A(e,Object(l.a)(Object(l.a)({},E[e]),{},{transform:t}))}(n,e)},onClick:function(t){return function(t,n){z===r.Text&&e.drawables[t].type===v.Text?(D.current[t].focus(),I(t)):J(n)}(n,t)},zIndex:X===n?e.drawables.length:0,children:$(n,t)},n)})),c&&Object(f.jsx)(m,{isResizable:!1,isDraggable:!1,canvasWidth:e.width,canvasHeight:e.height,alwaysResize:!0,transformData:T,isGizmoVisible:z===r.Select})]})},k=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],o=r?"pressed":"";return Object(f.jsxs)("button",{id:e.id,onMouseDown:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onMouseUp:function(){return c(!1)},onClick:e.onClick,className:"toolbar-item ".concat(o),children:[e.icon,e.children]})},E=["title","titleId"];function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function C(e,t){var n=e.title,r=e.titleId,c=S(e,E);return a.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,y||(y=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})))}var T,M,D,P,Y,X=a.forwardRef(C),I=(n.p,["title","titleId"]);function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e,t){var n=e.title,r=e.titleId,c=N(e,I);return a.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-frame",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,T||(T=a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),M||(M=a.createElement("line",{x1:4,y1:7,x2:20,y2:7})),D||(D=a.createElement("line",{x1:4,y1:17,x2:20,y2:17})),P||(P=a.createElement("line",{x1:7,y1:4,x2:7,y2:20})),Y||(Y=a.createElement("line",{x1:17,y1:4,x2:17,y2:20})))}var H,B,U,W=a.forwardRef(L),F=(n.p,["title","titleId"]);function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function G(e,t){var n=e.title,r=e.titleId,c=K(e,F);return a.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-pyramid",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,H||(H=a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),B||(B=a.createElement("path",{d:"M3 17l9 4l9 -4l-9 -14z"})),U||(U=a.createElement("path",{d:"M12 3v18"})))}var A,J,Z,q=a.forwardRef(G),Q=(n.p,["title","titleId"]);function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ee(e,t){var n=e.title,r=e.titleId,c=_(e,Q);return a.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-export",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,A||(A=a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),J||(J=a.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"})),Z||(Z=a.createElement("path",{d:"M11.5 21h-4.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v5m-5 6h7m-3 -3l3 3l-3 3"})))}var te,ne,re,ae=a.forwardRef(ee),ce=(n.p,["title","titleId"]);function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function le(e,t){var n=e.title,r=e.titleId,c=ie(e,ce);return a.createElement("svg",oe({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-file-import",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,te||(te=a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),ne||(ne=a.createElement("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"})),re||(re=a.createElement("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"})))}var se,ue,fe,de,he=a.forwardRef(le),be=(n.p,["title","titleId"]);function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function me(e,t){var n=e.title,r=e.titleId,c=pe(e,be);return a.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-cursor-text",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,se||(se=a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),ue||(ue=a.createElement("path",{d:"M10 12h4"})),fe||(fe=a.createElement("path",{d:"M9 4a3 3 0 0 1 3 3v10a3 3 0 0 1 -3 3"})),de||(de=a.createElement("path",{d:"M15 4a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3"})))}var je,ge,Oe,we,ye,xe,ke=a.forwardRef(me),Ee=(n.p,["title","titleId"]);function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ce(e,t){var n=e.title,r=e.titleId,c=Se(e,Ee);return a.createElement("svg",Re({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-dice",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,je||(je=a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),ge||(ge=a.createElement("rect",{x:4,y:4,width:16,height:16,rx:2})),Oe||(Oe=a.createElement("circle",{cx:8.5,cy:8.5,r:.5,fill:"currentColor"})),we||(we=a.createElement("circle",{cx:15.5,cy:8.5,r:.5,fill:"currentColor"})),ye||(ye=a.createElement("circle",{cx:15.5,cy:15.5,r:.5,fill:"currentColor"})),xe||(xe=a.createElement("circle",{cx:8.5,cy:15.5,r:.5,fill:"currentColor"})))}var Te=a.forwardRef(Ce);n.p;var Me=function(){var e=Object(a.useState)(r.Select),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),d=i[0],b=i[1],p=Object(a.useRef)(null),m=Object(a.useRef)(null),j=function(e){b([].concat(Object(s.a)(d),[{data:e,type:v.Image}]))},g=function(e){!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}(p.current.toDataURL("image/".concat(e)),"image.".concat(e))};return Object(f.jsx)("div",{children:Object(f.jsx)("header",{className:"app-header",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"toolbar",children:[Object(f.jsxs)("div",{className:"buttons-container",children:[Object(f.jsx)(k,{icon:Object(f.jsx)(X,{}),id:"action-file-menu",onClick:function(){},children:"File"}),Object(f.jsx)(h,{isSelected:n===r.Select,icon:Object(f.jsx)(W,{}),onClick:function(){return c(r.Select)},toolType:r.Select}),Object(f.jsx)(h,{isSelected:n===r.Text,icon:Object(f.jsx)(ke,{}),onClick:function(){return c(r.Text)},toolType:r.Text}),Object(f.jsx)(h,{isSelected:n===r.Shape,icon:Object(f.jsx)(q,{}),onClick:function(){return c(r.Shape)},toolType:r.Shape}),Object(f.jsx)(k,{id:"action-random-image",icon:Object(f.jsx)(Te,{}),onClick:function(e){j("https://picsum.photos/500/300?random=".concat(Math.random())),e.currentTarget.blur()},children:"Random Image"})]}),Object(f.jsxs)("div",{className:"buttons-container",children:[Object(f.jsxs)(k,{icon:Object(f.jsx)(he,{}),id:"action-import",onClick:function(e){m.current.click(),e.currentTarget.blur()},children:[Object(f.jsx)("input",{accept:".jpg, .jpeg, .png",onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t.item(0);n&&j(URL.createObjectURL(n))},ref:m,id:"import-input",type:"file",hidden:!0}),"Import..."]}),Object(f.jsx)(k,{icon:Object(f.jsx)(ae,{}),id:"action-export",onClick:function(){return g("png")},children:"Export..."})]})]}),Object(f.jsx)(x,{canvasRef:p,width:800,height:600,drawables:d,onRemoveDrawable:function(e){b(d.filter((function(t,n){return n!==e})))},onAddText:function(){b([].concat(Object(s.a)(d),[{data:"",type:v.Text}]))},onChangeText:function(e,t){b(d.map((function(n,r){return e===r?Object(l.a)(Object(l.a)({},n),{},{data:t}):n})))},tool:n}),Object(f.jsxs)("div",{className:"controls",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("kbd",{children:"Enter"})," to draw selected item, ",Object(f.jsx)("kbd",{children:"Del"})," to erase selected area"]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("kbd",{children:"Ctrl-Z"})," to undo, ",Object(f.jsx)("kbd",{children:"Ctrl-Y"})," to redo"]})]})]})})})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(Me,{})}),document.getElementById("root")),De()}],[[19,1,2]]]);